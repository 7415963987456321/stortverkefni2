{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["const url = '/videos.json?id=';\r\n\r\nconst Myndband = (function a() {\r\n  let container;\r\n\r\n  function fetchData(id) {\r\n    const request = new XMLHttpRequest();\r\n    request.onreadystatechange = function b() {\r\n      if (this.readyState === XMLHttpRequest.DONE) {\r\n        if (this.status >= 400) {\r\n          console.log('Villa kom upp');\r\n        } else {\r\n          const data = JSON.parse(request.responseText);\r\n          constructor(data);\r\n        }\r\n      }\r\n    };\r\n\r\n    request.onerror = function c() {\r\n      console.log('Óþekkt villa');\r\n    };\r\n    request.open('GET', url + id, true);\r\n    request.send();\r\n  }\r\n\r\n  function init(body) {\r\n    container = body.querySelector('body');\r\n    fetchData();\r\n  }\r\n  function constructor(data) {\r\n    container = document.querySelector('body');\r\n    this.dataSet = data;\r\n    container.appendChild(header());\r\n    for (let i = 0; i < 3; i++) {\r\n      Categories(i, data.categories[i].title, data.categories[i].videos);\r\n    }\r\n  }\r\n\r\n  function header() {\r\n    const heading = document.createElement('h1');\r\n    heading.className = 'titleHeading';\r\n    heading.appendChild(document.createTextNode('Myndbandaleigan!'));\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'Header';\r\n    div.appendChild(heading);\r\n\r\n    return div;\r\n  }\r\n\r\n  function Categories(i, title, videos) {\r\n    container = document.querySelector('body');\r\n\r\n    const sec = document.createElement('section');\r\n    sec.className = `Category ${title}`;\r\n\r\n    const h2 = document.createElement('h2');\r\n    h2.appendChild(document.createTextNode(title));\r\n    sec.appendChild(h2);\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'Videolist';\r\n    sec.appendChild(div);\r\n\r\n    container.appendChild(sec);\r\n\r\n    for (let z = 0; z < videos.length; z++) {\r\n      const videolist = document.querySelectorAll('.Videolist')[i];\r\n      videolist.appendChild(Videos(videos[z]));\r\n    }\r\n\r\n    const border = document.createElement('div');\r\n    border.className = 'border';\r\n    sec.appendChild(border);\r\n  }\r\n\r\n  function Videos(id) {\r\n    const title = this.dataSet.videos[id - 1].title;\r\n    const poster = this.dataSet.videos[id - 1].poster;\r\n    const videoURL = this.dataSet.videos[id - 1].video;\r\n    const duration = durationCalc(dataSet.videos[id - 1].duration);\r\n    const created = this.dataSet.videos[id - 1].created;\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'Video';\r\n\r\n    const a = document.createElement('a');\r\n    a.setAttribute('href', `video.html?id=${id}`);\r\n    div.appendChild(a);\r\n\r\n    const img = document.createElement('img');\r\n    img.src = poster;\r\n    a.appendChild(img);\r\n\r\n    const h3 = document.createElement('h3');\r\n    h3.appendChild(document.createTextNode(title));\r\n    h3.className = 'videoTitle';\r\n    div.appendChild(h3);\r\n\r\n    const p = document.createElement('p');\r\n    p.className = 'duration';\r\n    p.appendChild(document.createTextNode(duration));\r\n    div.appendChild(p);\r\n\r\n    console.log(age(created))\r\n    return div;\r\n  }\r\n\r\n  function durationCalc(duration) {\r\n    const sec = Math.floor((duration) % 60);\r\n    const min = Math.floor((duration / 60));\r\n    const secZero = (sec < 10 ? \"0\" : \"\") + sec;\r\n    const string = `${min}:${secZero} `;\r\n\r\n    return string;\r\n  }\r\n\r\n  function age(created){\r\n      //TODO Klára þetta\r\n      const now = Date.parse(new Date());\r\n      const diff = now-created;\r\n      console.log(created);\r\n      const day = Math.floor((diff)/ (1000 * 60 * 60 * 24) );\r\n      const week = Math.floor((diff)/(604800))\r\n      const month = week%4;\r\n      const year = month%12;\r\n    \r\n      return (day%30%7) + \"days \" + week % 4 + \"weeks \" + month % 12 + \"months \" + year;\r\n  }\r\n  return {\r\n    init,\r\n  };\r\n}());\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const body = document.querySelector('body');\r\n  Myndband.init(body);\r\n});\r\n"]}