{"version":3,"sources":["videoplayer.js"],"names":[],"mappings":"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","file":"videoplayer-compiled.js","sourcesContent":["const API_URL = '/videos.json';\r\nconst url = '/videos.json?id=';\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  const body = document.querySelector('body');\r\n  Videoplayer.init(body);\r\n});\r\n\r\nconst Videoplayer = (function() {\r\n    let container;\r\n    function init(body){\r\n    container = body.querySelector('body');\r\n    fetchData();\r\n  }\r\n\r\n  function fetchData(id){\r\n    const request = new XMLHttpRequest();\r\n    request.onreadystatechange = function(){\r\n      if(this.readyState == XMLHttpRequest.DONE){\r\n        if(this.status >= 400){\r\n          error('Villa kom upp');\r\n        }else{\r\n          const data = JSON.parse(request.responseText);\r\n          constructor(data);\r\n        }\r\n      }\r\n    }\r\n    \r\n    request.onerror = function(){\r\n      error('Óþekkt villa');\r\n    };\r\n      request.open('GET', url+id, true);\r\n      request.send();\r\n  }\r\n\r\n  function constructor(data){\r\n    container = document.querySelector('body');\r\n    this.dataSet = data;\r\n    container.appendChild(header());\r\n\r\n    let queryId = parseInt(window.location.search.substring(4));\r\n    //console.log(data.videos.find(item => item.id === queryId));\r\n    \r\n    container.appendChild(getVideo(queryId))\r\n  }\r\n\r\n  function header(){\r\n    const heading = document.createElement('h1');\r\n    heading.className = 'titleHeading';\r\n    heading.appendChild(document.createTextNode('Myndbandaleigan!'))\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'Header';\r\n    div.appendChild(heading);\r\n\r\n    return div;\r\n  }\r\n\r\n  function getVideo(id){\r\n    const title = dataSet.videos[id-1].title;\r\n    const videoURL = dataSet.videos[id-1].video;\r\n    const duration = durationCalc(dataSet.videos[id-1].duration);\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'video'\r\n\r\n    const titill = document.createElement('div');\r\n    titill.className = 'videoTitle'\r\n    div.appendChild(titill)\r\n\r\n    const h1 = document.createElement('h1');\r\n    h1.className = 'title__h1'\r\n    h1.appendChild(document.createTextNode(title))\r\n    titill.appendChild(h1)\r\n    \r\n    const videoDiv = document.createElement('div');\r\n    videoDiv.className = 'videoPlayer';\r\n    \r\n    const vidPlayer = document.createElement('video');\r\n    vidPlayer.src = videoURL;\r\n    videoDiv.appendChild(vidPlayer);\r\n    div.appendChild(videoDiv)\r\n\r\n    div.appendChild(buttonList())\r\n    vidPlayer.play();\r\n\r\n    return div;\r\n    }\r\n  function buttonList(){\r\n    const buttonList = document.createElement('div');\r\n    buttonList.className = 'buttonList';\r\n\r\n    const play = document.createElement('button');\r\n    const playImg = document.createElement('img');\r\n    playImg.src = '/img/play.svg'\r\n    play.appendChild(playImg)\r\n    play.id = 'playButton'\r\n    \r\n    const forward = document.createElement('button');\r\n    const forwardImg = document.createElement('img');\r\n    forwardImg.src = '/img/next.svg'\r\n    forward.appendChild(forwardImg)\r\n    forward.id = 'forwardButton'\r\n    \r\n    const fullscreen = document.createElement('button');\r\n    const fullscreenImg = document.createElement('img');\r\n    fullscreenImg.src = '/img/fullscreen.svg'\r\n    fullscreen.appendChild(fullscreenImg)\r\n    fullscreen.id = 'fullscreenButton'\r\n\r\n    const backward = document.createElement('button');\r\n    const backwardImg = document.createElement('img');\r\n    backwardImg.src = '/img/back.svg'\r\n    backward.appendChild(backwardImg)\r\n    backward.id = 'backwardButton'\r\n\r\n    buttonList.appendChild(backward);\r\n    buttonList.appendChild(play);\r\n    buttonList.appendChild(fullscreen);\r\n    buttonList.appendChild(forward);\r\n\r\n    return buttonList;\r\n  }\r\n\r\n  function durationCalc(duration) {\r\n    const sec = Math.floor((duration ) % 60);\r\n    const min = Math.floor((duration / 60) );\r\n    const string =  min +   \" min : \" + sec + \" sec\";\r\n\r\n    return string;\r\n  }\r\n  return {\r\n    init: init\r\n  }\r\n})();"]}