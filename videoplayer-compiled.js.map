{"version":3,"sources":["videoplayer.js"],"names":[],"mappings":"AAAA,MAAM,MAAM,kBAAZ;;AAEA,MAAM,cAAe,SAAS,CAAT,GAAa;AAChC,MAAI,SAAJ;AACA,WAAS,SAAT,CAAmB,EAAnB,EAAuB;AACrB,UAAM,UAAU,IAAI,cAAJ,EAAhB;AACA,YAAQ,kBAAR,GAA6B,SAAS,CAAT,GAAa;AACxC,UAAI,KAAK,UAAL,KAAoB,eAAe,IAAvC,EAA6C;AAC3C,YAAI,KAAK,MAAL,IAAe,GAAnB,EAAwB;AACtB,kBAAQ,GAAR,CAAY,eAAZ;AACD,SAFD,MAEO;AACL,gBAAM,OAAO,KAAK,KAAL,CAAW,QAAQ,YAAnB,CAAb;AACA,sBAAY,IAAZ;AACD;AACF;AACF,KATD;;AAWA,YAAQ,OAAR,GAAkB,SAAS,CAAT,GAAa;AAC7B,cAAQ,GAAR,CAAY,cAAZ;AACD,KAFD;AAGA,YAAQ,IAAR,CAAa,KAAb,EAAoB,MAAM,EAA1B,EAA8B,IAA9B;AACA,YAAQ,IAAR;AACD;;AAED,WAAS,IAAT,CAAc,IAAd,EAAoB;AAClB,gBAAY,KAAK,aAAL,CAAmB,MAAnB,CAAZ;AACA;AACD;;AAED,WAAS,MAAT,GAAkB;AAChB,UAAM,UAAU,SAAS,aAAT,CAAuB,IAAvB,CAAhB;AACA,YAAQ,SAAR,GAAoB,cAApB;AACA,YAAQ,WAAR,CAAoB,SAAS,cAAT,CAAwB,kBAAxB,CAApB;;AAEA,UAAM,MAAM,SAAS,aAAT,CAAuB,KAAvB,CAAZ;AACA,QAAI,SAAJ,GAAgB,QAAhB;AACA,QAAI,WAAJ,CAAgB,OAAhB;;AAEA,WAAO,GAAP;AACD;;AAED,WAAS,WAAT,GAAuB;AACrB,WAAO,KAAP,CAAa,6BAAb;AACA,YAAQ,EAAR,CAAW,CAAC,CAAZ;AACD;;AAED,WAAS,QAAT,CAAkB,EAAlB,EAAsB;AACpB,UAAM,QAAQ,KAAK,OAAL,CAAa,MAAb,CAAoB,KAAK,CAAzB,EAA4B,KAA1C;AACA,UAAM,WAAW,KAAK,OAAL,CAAa,MAAb,CAAoB,KAAK,CAAzB,EAA4B,KAA7C;;AAEA,UAAM,MAAM,SAAS,aAAT,CAAuB,KAAvB,CAAZ;AACA,QAAI,SAAJ,GAAgB,OAAhB;;AAEA,UAAM,SAAS,SAAS,aAAT,CAAuB,KAAvB,CAAf;AACA,WAAO,SAAP,GAAmB,YAAnB;AACA,QAAI,WAAJ,CAAgB,MAAhB;;AAEA,UAAM,KAAK,SAAS,aAAT,CAAuB,IAAvB,CAAX;AACA,OAAG,SAAH,GAAe,WAAf;AACA,OAAG,WAAH,CAAe,SAAS,cAAT,CAAwB,KAAxB,CAAf;AACA,WAAO,WAAP,CAAmB,EAAnB;;AAEA,UAAM,WAAW,SAAS,aAAT,CAAuB,KAAvB,CAAjB;AACA,aAAS,SAAT,GAAqB,aAArB;;AAEA,gBAAY,SAAS,aAAT,CAAuB,OAAvB,CAAZ;AACA,cAAU,GAAV,GAAgB,QAAhB;AACA,aAAS,WAAT,CAAqB,KAAK,SAA1B;AACA,QAAI,WAAJ,CAAgB,QAAhB;;AAEA,QAAI,WAAJ,CAAgB,YAAhB;;AAEA,SAAK,SAAL,CAAe,IAAf;AACA;AACA,WAAO,GAAP;AACD;;AAGD,WAAS,UAAT,GAAsB;AACpB,UAAM,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAnB;AACA,eAAW,SAAX,GAAuB,YAAvB;;AAEA;AACA,UAAM,OAAO,SAAS,aAAT,CAAuB,QAAvB,CAAb;AACA,SAAK,OAAL,GAAe,SAAS,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAK,OAAL,CAAa,GAAb,GAAmB,eAAnB;AACA,SAAK,OAAL,CAAa,EAAb,GAAkB,MAAlB;AACA,SAAK,WAAL,CAAiB,OAAjB;AACA,SAAK,EAAL,GAAU,YAAV;;AAEA,SAAK,gBAAL,CAAsB,OAAtB,EAA+B,MAAM;AACnC;AACD,KAFD;AAGA,cAAU,gBAAV,CAA2B,OAA3B,EAAoC,MAAM;AACxC;AACD,KAFD;;AAIA;AACA,UAAM,UAAU,SAAS,aAAT,CAAuB,QAAvB,CAAhB;AACA,UAAM,aAAa,SAAS,aAAT,CAAuB,KAAvB,CAAnB;AACA,eAAW,GAAX,GAAiB,eAAjB;AACA,YAAQ,WAAR,CAAoB,UAApB;AACA,YAAQ,EAAR,GAAa,eAAb;;AAEA,YAAQ,gBAAR,CAAyB,OAAzB,EAAkC,MAAM;AACtC;AACD,KAFD;;AAIA;AACA,UAAM,aAAa,SAAS,aAAT,CAAuB,QAAvB,CAAnB;AACA,UAAM,gBAAgB,SAAS,aAAT,CAAuB,KAAvB,CAAtB;AACA,kBAAc,GAAd,GAAoB,qBAApB;AACA,eAAW,WAAX,CAAuB,aAAvB;AACA,eAAW,EAAX,GAAgB,kBAAhB;;AAEA,eAAW,gBAAX,CAA4B,OAA5B,EAAqC,MAAM;AACzC;AACD,KAFD;;AAIA;AACA,UAAM,OAAO,SAAS,aAAT,CAAuB,QAAvB,CAAb;AACA,SAAK,OAAL,GAAe,SAAS,aAAT,CAAuB,KAAvB,CAAf;AACA,YAAQ,GAAR,GAAc,eAAd;AACA,SAAK,WAAL,CAAiB,OAAjB;AACA,SAAK,EAAL,GAAU,kBAAV;;AAEA,SAAK,gBAAL,CAAsB,OAAtB,EAA+B,MAAM;AACnC;AACD,KAFD;;AAIA;AACA,UAAM,WAAW,SAAS,aAAT,CAAuB,QAAvB,CAAjB;AACA,UAAM,cAAc,SAAS,aAAT,CAAuB,KAAvB,CAApB;AACA,gBAAY,GAAZ,GAAkB,eAAlB;AACA,aAAS,WAAT,CAAqB,WAArB;AACA,aAAS,EAAT,GAAc,gBAAd;;AAEA,aAAS,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AACvC;AACD,KAFD;;AAIA;AACA,eAAW,WAAX,CAAuB,QAAvB;AACA,eAAW,WAAX,CAAuB,IAAvB;AACA,eAAW,WAAX,CAAuB,UAAvB;AACA,eAAW,WAAX,CAAuB,IAAvB;AACA,eAAW,WAAX,CAAuB,OAAvB;;AAEA,WAAO,UAAP;AACD;;AAED,WAAS,WAAT,CAAqB,IAArB,EAA2B;AACzB,gBAAY,SAAS,aAAT,CAAuB,MAAvB,CAAZ;AACA,SAAK,OAAL,GAAe,IAAf;AACA,cAAU,WAAV,CAAsB,QAAtB;;AAEA,UAAM,UAAU,SAAS,OAAO,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CAAT,CAAhB;;AAEA,QAAI,CAAC,KAAK,MAAL,CAAY,IAAZ,CAAiB,QAAQ,KAAK,EAAL,KAAY,OAArC,CAAL,EAAoD;AAClD;AACD,KAFD,MAEO;AACL,gBAAU,WAAV,CAAsB,SAAS,OAAT,CAAtB;AACD;AACF;;AAED,WAAS,SAAT,GAAqB;AACnB,QAAI,UAAU,MAAd,EAAsB;AACpB,WAAK,SAAL,CAAe,IAAf;AACA,cAAQ,GAAR,GAAc,gBAAd;AACD,KAHD,MAGO;AACL,WAAK,SAAL,CAAe,KAAf;AACA,cAAQ,GAAR,GAAc,eAAd;AACD;AACF;;AAED,WAAS,WAAT,GAAuB;AACrB,SAAK,SAAL,CAAe,WAAf,IAA8B,CAA9B;AACD;;AAED,WAAS,YAAT,GAAwB;AACtB,SAAK,SAAL,CAAe,WAAf,IAA8B,CAA9B;AACD;;AAED,WAAS,aAAT,GAAyB;AACvB,UAAM,YAAY,IAAlB;AACA,QAAI,UAAU,uBAAd,EAAuC;AACrC,gBAAU,uBAAV;AACD,KAFD,MAEO,IAAI,UAAU,oBAAd,EAAoC;AACzC,gBAAU,oBAAV;AACD,KAFM,MAEA,IAAI,UAAU,mBAAd,EAAmC;AACxC,gBAAU,mBAAV;AACD;AACF;;AAED,WAAS,SAAT,GAAqB;AACnB,UAAM,YAAY,IAAlB;AACA,QAAI,UAAU,KAAd,EAAqB;AACnB,gBAAU,KAAV,GAAkB,KAAlB;AACA,cAAQ,GAAR,GAAc,eAAd;AACD,KAHD,MAGO;AACL,gBAAU,KAAV,GAAkB,IAAlB;AACA,cAAQ,GAAR,GAAc,iBAAd;AACD;AACF;;AAED,WAAS,YAAT,CAAsB,QAAtB,EAAgC;AAC9B,UAAM,MAAM,KAAK,KAAL,CAAY,QAAD,GAAa,EAAxB,CAAZ;AACA,UAAM,MAAM,KAAK,KAAL,CAAY,WAAW,EAAvB,CAAZ;AACA,UAAM,SAAU,GAAE,GAAI,UAAS,GAAI,MAAnC;;AAEA,WAAO,MAAP;AACD;;AAGD,SAAO;AACL;AADK,GAAP;AAGD,CAvNoB,EAArB;;AAyNA,SAAS,gBAAT,CAA0B,kBAA1B,EAA8C,MAAM;AAClD,QAAM,OAAO,SAAS,aAAT,CAAuB,MAAvB,CAAb;AACA,cAAY,IAAZ,CAAiB,IAAjB;AACD,CAHD","file":"videoplayer-compiled.js","sourcesContent":["const url = '/videos.json?id=';\r\n\r\nconst Videoplayer = (function a() {\r\n  let container;\r\n  function fetchData(id) {\r\n    const request = new XMLHttpRequest();\r\n    request.onreadystatechange = function b() {\r\n      if (this.readyState === XMLHttpRequest.DONE) {\r\n        if (this.status >= 400) {\r\n          console.log('Villa kom upp');\r\n        } else {\r\n          const data = JSON.parse(request.responseText);\r\n          constructor(data);\r\n        }\r\n      }\r\n    };\r\n\r\n    request.onerror = function c() {\r\n      console.log('Óþekkt villa');\r\n    };\r\n    request.open('GET', url + id, true);\r\n    request.send();\r\n  }\r\n\r\n  function init(body) {\r\n    container = body.querySelector('body');\r\n    fetchData();\r\n  }\r\n\r\n  function header() {\r\n    const heading = document.createElement('h1');\r\n    heading.className = 'titleHeading';\r\n    heading.appendChild(document.createTextNode('Myndbandaleigan!'));\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'Header';\r\n    div.appendChild(heading);\r\n\r\n    return div;\r\n  }\r\n\r\n  function handleError() {\r\n    window.alert('Þetta myndskeið er ekki til');\r\n    history.go(-1);\r\n  }\r\n\r\n  function getVideo(id) {\r\n    const title = this.dataSet.videos[id - 1].title;\r\n    const videoURL = this.dataSet.videos[id - 1].video;\r\n\r\n    const div = document.createElement('div');\r\n    div.className = 'video';\r\n\r\n    const titill = document.createElement('div');\r\n    titill.className = 'videoTitle';\r\n    div.appendChild(titill);\r\n\r\n    const h1 = document.createElement('h1');\r\n    h1.className = 'title__h1';\r\n    h1.appendChild(document.createTextNode(title));\r\n    titill.appendChild(h1);\r\n\r\n    const videoDiv = document.createElement('div');\r\n    videoDiv.className = 'videoPlayer';\r\n\r\n    vidPlayer = document.createElement('video');\r\n    vidPlayer.src = videoURL;\r\n    videoDiv.appendChild(this.vidPlayer);\r\n    div.appendChild(videoDiv);\r\n\r\n    div.appendChild(buttonList());\r\n\r\n    this.vidPlayer.play();\r\n    playPause();\r\n    return div;\r\n  }\r\n\r\n\r\n  function buttonList() {\r\n    const buttonList = document.createElement('div');\r\n    buttonList.className = 'buttonList';\r\n\r\n    // Play takki og eventlistener á videoelement\r\n    const play = document.createElement('button');\r\n    this.playImg = document.createElement('img');\r\n    this.playImg.src = '/img/play.svg';\r\n    this.playImg.id = 'play';\r\n    play.appendChild(playImg);\r\n    play.id = 'playButton';\r\n\r\n    play.addEventListener('click', () => {\r\n      playPause();\r\n    });\r\n    vidPlayer.addEventListener('click', () => {\r\n      playPause();\r\n    });\r\n\r\n    // Forward takki\r\n    const forward = document.createElement('button');\r\n    const forwardImg = document.createElement('img');\r\n    forwardImg.src = '/img/next.svg';\r\n    forward.appendChild(forwardImg);\r\n    forward.id = 'forwardButton';\r\n\r\n    forward.addEventListener('click', () => {\r\n      forwardSeek();\r\n    });\r\n\r\n    // Fullscreen takki\r\n    const fullscreen = document.createElement('button');\r\n    const fullscreenImg = document.createElement('img');\r\n    fullscreenImg.src = '/img/fullscreen.svg';\r\n    fullscreen.appendChild(fullscreenImg);\r\n    fullscreen.id = 'fullscreenButton';\r\n\r\n    fullscreen.addEventListener('click', () => {\r\n      fullscreenReq();\r\n    });\r\n\r\n    // Mute takki\r\n    const mute = document.createElement('button');\r\n    this.muteImg = document.createElement('img');\r\n    muteImg.src = '/img/mute.svg';\r\n    mute.appendChild(muteImg);\r\n    mute.id = 'fullscreenButton';\r\n\r\n    mute.addEventListener('click', () => {\r\n      muteOnOff();\r\n    });\r\n\r\n    // Backward takki\r\n    const backward = document.createElement('button');\r\n    const backwardImg = document.createElement('img');\r\n    backwardImg.src = '/img/back.svg';\r\n    backward.appendChild(backwardImg);\r\n    backward.id = 'backwardButton';\r\n\r\n    backward.addEventListener('click', () => {\r\n      backwardSeek();\r\n    });\r\n\r\n    // Append á container\r\n    buttonList.appendChild(backward);\r\n    buttonList.appendChild(play);\r\n    buttonList.appendChild(fullscreen);\r\n    buttonList.appendChild(mute);\r\n    buttonList.appendChild(forward);\r\n\r\n    return buttonList;\r\n  }\r\n  \r\n  function constructor(data) {\r\n    container = document.querySelector('body');\r\n    this.dataSet = data;\r\n    container.appendChild(header());\r\n\r\n    const queryId = parseInt(window.location.search.substring(4));\r\n\r\n    if (!data.videos.find(item => item.id === queryId)) {\r\n      handleError();\r\n    } else {\r\n      container.appendChild(getVideo(queryId));\r\n    }\r\n  }\r\n\r\n  function playPause() {\r\n    if (vidPlayer.paused) {\r\n      this.vidPlayer.play();\r\n      playImg.src = '/img/pause.svg';\r\n    } else {\r\n      this.vidPlayer.pause();\r\n      playImg.src = '/img/play.svg';\r\n    }\r\n  }\r\n\r\n  function forwardSeek() {\r\n    this.vidPlayer.currentTime += 3;\r\n  }\r\n\r\n  function backwardSeek() {\r\n    this.vidPlayer.currentTime -= 3;\r\n  }\r\n\r\n  function fullscreenReq() {\r\n    const vidPlayer = this;\r\n    if (vidPlayer.webkitRequestFullscreen) {\r\n      vidPlayer.webkitRequestFullscreen();\r\n    } else if (vidPlayer.mozRequestFullScreen) {\r\n      vidPlayer.mozRequestFullScreen();\r\n    } else if (vidPlayer.msRequestFullscreen) {\r\n      vidPlayer.msRequestFullscreen();\r\n    }\r\n  }\r\n\r\n  function muteOnOff() {\r\n    const vidPlayer = this;\r\n    if (vidPlayer.muted) {\r\n      vidPlayer.muted = false;\r\n      muteImg.src = '/img/mute.svg';\r\n    } else {\r\n      vidPlayer.muted = true;\r\n      muteImg.src = '/img/unmute.svg';\r\n    }\r\n  }\r\n\r\n  function durationCalc(duration) {\r\n    const sec = Math.floor((duration) % 60);\r\n    const min = Math.floor((duration / 60));\r\n    const string = `${min} min : ${sec} sec`;\r\n\r\n    return string;\r\n  }\r\n\r\n\r\n  return {\r\n    init,\r\n  };\r\n}());\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const body = document.querySelector('body');\r\n  Videoplayer.init(body);\r\n});\r\n"]}